# Strava (required)
STRAVA_CLIENT_ID=your_strava_client_id
STRAVA_CLIENT_SECRET=your_strava_client_secret
STRAVA_REFRESH_TOKEN=your_strava_refresh_token
STRAVA_ACCESS_TOKEN=
# Legacy aliases still supported: CLIENT_ID, CLIENT_SECRET, REFRESH_TOKEN, ACCESS_TOKEN

# Garmin (optional if ENABLE_GARMIN=false)
GARMIN_EMAIL=you@example.com
GARMIN_PASSWORD=your_garmin_password

# Intervals.icu (optional if ENABLE_INTERVALS=false)
INTERVALS_API_KEY=your_intervals_api_key
INTERVALS_USER_ID=your_intervals_user_id
# Legacy alias still supported: USER_ID

# WeatherAPI (optional if ENABLE_WEATHER=false)
WEATHER_API_KEY=your_weatherapi_key

# Smashrun (optional if ENABLE_SMASHRUN=false)
SMASHRUN_ACCESS_TOKEN=your_smashrun_access_token

# Crono API (optional if ENABLE_CRONO_API=false)
CRONO_API_BASE_URL=http://192.168.1.9:8777
CRONO_API_KEY=

# Runtime
POLL_INTERVAL_SECONDS=300
LOG_LEVEL=INFO
TIMEZONE=America/New_York
# Legacy alias still supported: TZ
STATE_DIR=state
PROCESSED_LOG_FILE=processed_activities.log
LATEST_JSON_FILE=latest_activity.json
STRAVA_TOKEN_FILE=strava_tokens.json
DESCRIPTION_TEMPLATE_FILE=description_template.j2
RUNTIME_DB_FILE=runtime_state.db

# API runtime (gunicorn)
API_WORKERS=2
API_THREADS=4
API_TIMEOUT_SECONDS=120

# Runtime hardening
WORKER_HEALTH_MAX_AGE_SECONDS=900
RUN_LOCK_TTL_SECONDS=900
JOB_MAX_ATTEMPTS=3
JOB_RETRY_DELAY_SECONDS=300
SERVICE_RETRY_COUNT=2
SERVICE_RETRY_BACKOFF_SECONDS=2
SERVICE_COOLDOWN_BASE_SECONDS=60
SERVICE_COOLDOWN_MAX_SECONDS=1800
ENABLE_SERVICE_CALL_BUDGET=true
MAX_OPTIONAL_SERVICE_CALLS_PER_CYCLE=10
ENABLE_SERVICE_RESULT_CACHE=true
SERVICE_CACHE_TTL_SECONDS=600
RUNTIME_CLEANUP_INTERVAL_SECONDS=21600
RUNTIME_RETENTION_SERVICE_CACHE_SECONDS=259200
RUNTIME_RETENTION_TRANSIENT_RUNTIME_SECONDS=604800
RUNTIME_RETENTION_CONFIG_SNAPSHOTS=50
RUNTIME_RETENTION_TERMINAL_JOB_DAYS=30
RUNTIME_RETENTION_EXPIRED_LOCK_SECONDS=86400

# Feature flags
ENABLE_GARMIN=true
ENABLE_INTERVALS=true
ENABLE_WEATHER=true
ENABLE_SMASHRUN=true
ENABLE_CRONO_API=false
ENABLE_QUIET_HOURS=true
QUIET_HOURS_START=0
QUIET_HOURS_END=4

# Profile classifier tuning
PROFILE_LONG_RUN_MILES=10
PROFILE_TRAIL_GAIN_PER_MILE_FT=220
HOME_LAT=
HOME_LON=
HOME_RADIUS_MILES=8

# Compose/API
API_PORT=1609
DOCKER_IMAGE=seanap/chronicle:latest
